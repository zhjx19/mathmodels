<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Inequality Indices — inequality • mathmodels</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Inequality Indices — inequality"><meta property="og:description" content="Computes inequality indices for individual or grouped data:
gini0 calculates the Gini coefficient for individual sample data.
gini calculates the Gini coefficient for grouped data using income and population shares.
theil0 calculates the Theil index for individual sample data.
theil calculates the Theil index for grouped average data.
theil0_g calculates the Theil index and decomposition for grouped sample data.
theil_g calculates the Theil index and decomposition for grouped average data.
theil_g2_cross calculates the Theil index and decomposition for two-level cross-grouped average data.
theil_g2_nest calculates the Theil index and decomposition for two-level nested grouped average data.
For theil, theil_g, theil_g2_cross, theil_g2_nest: Name of population variable (character)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mathmodels</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ahp-weight.html">AHP: Analytic Hierarchy Process</a>
    </li>
    <li>
      <a href="../articles/combine-weights.html">Combine Subjective and Objective Weights</a>
    </li>
    <li>
      <a href="../articles/critic-weight.html">CRITIC Weight Method</a>
    </li>
    <li>
      <a href="../articles/dea.html">Data Envelopment Analysis</a>
    </li>
    <li>
      <a href="../articles/entropy-weight.html">Entropy Weight Method</a>
    </li>
    <li>
      <a href="../articles/fuzzy-eval.html">Fuzzy Comprehensive Evaluation</a>
    </li>
    <li>
      <a href="../articles/grey-relational.html">Grey Relational Analysis</a>
    </li>
    <li>
      <a href="../articles/inequality.html">Gini coefficient and Theil index</a>
    </li>
    <li>
      <a href="../articles/pca-weight.html">PCA-Based Weighting Method</a>
    </li>
    <li>
      <a href="../articles/preprocessing.html">Data Preprocessing for Multi-indicator Evaluation</a>
    </li>
    <li>
      <a href="../articles/rank-sum-ratio.html">Rank-sum ratio method</a>
    </li>
    <li>
      <a href="../articles/topsis.html">Entropy-weighted TOPSIS</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/zhjx19/mathmodels/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Inequality Indices</h1>
    <small class="dont-index">Source: <a href="https://github.com/zhjx19/mathmodels/blob/HEAD/R/inequality.R" class="external-link"><code>R/inequality.R</code></a></small>
    <div class="hidden name"><code>inequality.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes inequality indices for individual or grouped data:
<code>gini0</code> calculates the Gini coefficient for individual sample data.
<code>gini</code> calculates the Gini coefficient for grouped data using income and population shares.
<code>theil0</code> calculates the Theil index for individual sample data.
<code>theil</code> calculates the Theil index for grouped average data.
<code>theil0_g</code> calculates the Theil index and decomposition for grouped sample data.
<code>theil_g</code> calculates the Theil index and decomposition for grouped average data.
<code>theil_g2_cross</code> calculates the Theil index and decomposition for two-level cross-grouped average data.
<code>theil_g2_nest</code> calculates the Theil index and decomposition for two-level nested grouped average data.</p>
<p>For <code>theil</code>, <code>theil_g</code>, <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: Name of population variable (character).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gini0</span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gini</span><span class="op">(</span><span class="va">y</span>, <span class="va">pop</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil0</span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil</span><span class="op">(</span><span class="va">y</span>, <span class="va">pop</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil0_g</span><span class="op">(</span><span class="va">data</span>, <span class="va">group</span>, <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil_g</span><span class="op">(</span><span class="va">data</span>, <span class="va">group</span>, <span class="va">y</span>, <span class="va">pop</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil_g2_cross</span><span class="op">(</span><span class="va">data</span>, <span class="va">group1</span>, <span class="va">group2</span>, <span class="va">y</span>, <span class="va">pop</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">theil_g2_nest</span><span class="op">(</span><span class="va">data</span>, <span class="va">group1</span>, <span class="va">group2</span>, <span class="va">y</span>, <span class="va">pop</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>For <code>gini0</code>, <code>gini</code>, <code>theil0</code>: Numeric vector of individual incomes.</p></dd>


<dt id="arg-pop">pop<a class="anchor" aria-label="anchor" href="#arg-pop"></a></dt>
<dd><p>For <code>gini</code>: Numeric vector of group populations or population shares.
For <code>theil</code>, <code>theil0_g</code>, <code>theil_g</code>, <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: Name of income variable (character).</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>For <code>theil0_g</code>, <code>theil_g</code>, <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: Data frame containing variables.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>For <code>theil0_g</code>, <code>theil_g</code>: Name of grouping variable (e.g., province).</p></dd>


<dt id="arg-group-">group1<a class="anchor" aria-label="anchor" href="#arg-group-"></a></dt>
<dd><p>For <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: Name of first grouping variable (e.g., region or province).</p></dd>


<dt id="arg-group-">group2<a class="anchor" aria-label="anchor" href="#arg-group-"></a></dt>
<dd><p>For <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: Name of second grouping variable (e.g., type or city).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>For <code>gini0</code>, <code>gini</code>: Numeric Gini coefficient (0 to 1).
For <code>theil0</code>, <code>theil</code>: Numeric Theil index.
For <code>theil0_g</code>, <code>theil_g</code>, <code>theil_g2_cross</code>, <code>theil_g2_nest</code>: List with two vectors:</p><ul><li><p><code>theil</code>: theil (Theil index and its decomposition),</p></li>
<li><p><code>ratio</code>: ratio (contribution rates of each component).</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Sample data</span></span></span>
<span class="r-in"><span><span class="va">income</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pop</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span>, <span class="fl">200</span>, <span class="fl">250</span>, <span class="fl">300</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Gini coefficient (individual data)</span></span></span>
<span class="r-in"><span><span class="fu">gini0</span><span class="op">(</span><span class="va">income</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Gini coefficient (grouped data)</span></span></span>
<span class="r-in"><span><span class="fu">gini</span><span class="op">(</span><span class="va">income</span>, <span class="va">pop</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.225</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index (individual sample)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"A"</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"B"</span>,<span class="fl">10</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">10</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">4</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">theil0</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.07907822</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index (grouped average)</span></span></span>
<span class="r-in"><span><span class="va">data2</span> <span class="op">=</span> <span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">g</span>, <span class="va">y</span>, name <span class="op">=</span> <span class="st">"pop"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">theil</span><span class="op">(</span><span class="va">data2</span><span class="op">$</span><span class="va">y</span>, <span class="va">data2</span><span class="op">$</span><span class="va">pop</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.07907822</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index with grouping (sample data)</span></span></span>
<span class="r-in"><span><span class="fu">theil0_g</span><span class="op">(</span><span class="va">data</span>, <span class="st">"g"</span>, <span class="st">"y"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theil</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T         Tb         Tw          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.07907822 0.01127992 0.06779830 0.16568710 0.01021666 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T         Tb         Tw          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.00000000 0.14264257 0.85735743 0.77601127 0.08134615 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index with grouping (average data)</span></span></span>
<span class="r-in"><span><span class="fu">theil_g</span><span class="op">(</span><span class="va">data2</span>, <span class="st">"g"</span>, <span class="st">"y"</span>, <span class="st">"pop"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theil</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T         Tb         Tw          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.07907822 0.01127992 0.06779830 0.16568710 0.01021666 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T         Tb         Tw          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.00000000 0.14264257 0.85735743 0.77601127 0.08134615 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index with two-level cross-grouping</span></span></span>
<span class="r-in"><span><span class="va">data3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  industry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"East"</span>, <span class="st">"East"</span>, <span class="st">"West"</span>, <span class="st">"West"</span>, <span class="st">"East"</span>, <span class="st">"East"</span>, <span class="st">"West"</span>, <span class="st">"West"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  province <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Shanghai"</span>, <span class="st">"Beijing"</span>, <span class="st">"Sichuan"</span>, <span class="st">"Yunnan"</span>, <span class="st">"Shanghai"</span>, <span class="st">"Beijing"</span>, <span class="st">"Sichuan"</span>, <span class="st">"Yunnan"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  avg_wage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">400</span>, <span class="fl">80</span>, <span class="fl">60</span>, <span class="fl">300</span>, <span class="fl">250</span>, <span class="fl">50</span>, <span class="fl">40</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  emp_num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">80</span>, <span class="fl">90</span>, <span class="fl">70</span>, <span class="fl">120</span>, <span class="fl">100</span>, <span class="fl">80</span>, <span class="fl">60</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">theil_g2_cross</span><span class="op">(</span><span class="va">data3</span>, <span class="st">"industry"</span>, <span class="st">"area"</span>, <span class="st">"avg_wage"</span>, <span class="st">"emp_num"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theil</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           T          Tb          Tw        Tw_b        Tw_w           A </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.279831207 0.018158987 0.261672220 0.255126585 0.006545635 0.287178079 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.226327305 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T         Tb         Tw       Tw_b       Tw_w          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.00000000 0.06489265 0.93510735 0.91171598 0.02339137 0.59609568 0.33901168 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Theil index with two-level nested grouping</span></span></span>
<span class="r-in"><span><span class="va">data4</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  province <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"A2"</span>, <span class="st">"B1"</span>, <span class="st">"B1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  industry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Manu"</span>, <span class="st">"Serv"</span>, <span class="st">"Manu"</span>, <span class="st">"Serv"</span>, <span class="st">"Manu"</span>, <span class="st">"Serv"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">45000</span>, <span class="fl">60000</span>, <span class="fl">55000</span>, <span class="fl">70000</span>, <span class="fl">65000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>, <span class="fl">8000</span>, <span class="fl">15000</span>, <span class="fl">12000</span>, <span class="fl">10000</span>, <span class="fl">8000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">theil_g2_nest</span><span class="op">(</span><span class="va">data4</span>, <span class="st">"province"</span>, <span class="st">"city"</span>, <span class="st">"y"</span>, <span class="st">"pop"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $theil</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            T        Tb_g1        Tb_g2           Tw            A            B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.0095463309 0.0058045406 0.0027974591 0.0009443311 0.0042077485 0.0000000000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         A_A1         A_A2         B_B1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.0013579722 0.0009278223 0.0006738577 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          T      Tb_g1      Tb_g2         Tw          A          B       A_A1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.00000000 0.60803891 0.29304024 0.09892085 0.29304024 0.00000000 0.03360868 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       A_A2       B_B1          A          B </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.04165351 0.02365866 0.09892085 0.09892085 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jingxin zhang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

